## üîÆ Lesson: Symbols in JavaScript

### üìù –û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–∞
–£—Ä–æ–∫ –ø–æ—Å–≤—è—â–µ–Ω —Å–∏–º–≤–æ–ª–∞–º (Symbol) ‚Äî –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–º—É —Ç–∏–ø—É –¥–∞–Ω–Ω—ã—Ö –≤ JavaScript, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤. –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –æ—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã —Å —Å–∏–º–≤–æ–ª–∞–º–∏, –∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö, –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### üîë –ò–∑—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

#### –û—Å–Ω–æ–≤—ã Symbol
- **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤**
  ```javascript
  const idSymbol = Symbol('id'); // —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
  const femaleSymbol = Symbol('female');
  const ageSymbol = Symbol('age');
  ```
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤**
  ```javascript
  console.log(Symbol('id') === Symbol('id')); // false (–≤—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ)
  ```
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è**
  ```javascript
  console.log(idSymbol.description); // 'id'
  ```

#### –°–∏–º–≤–æ–ª—ã –∫–∞–∫ –∫–ª—é—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π**
  ```javascript
  const user = {
    name: 'Vadim',
    age: 25  // –æ–±—ã—á–Ω–æ–µ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
  };
  
  user[idSymbol] = 12345;  // –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª
  user[Symbol('email')] = 'vadim@example.com'; // —Å–∏–º–≤–æ–ª "–Ω–∞ –ª–µ—Ç—É"
  ```
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤**
  - –ù–µ –≤–∏–¥–Ω—ã –≤ –æ–±—ã—á–Ω—ã—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è—Ö
  - –ù–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ `Object.keys()`
  - –ù–µ –≤–∏–¥–Ω—ã –≤ `for...in`

#### –î–æ—Å—Ç—É–ø –∫ —Å–∏–º–≤–æ–ª—å–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º
- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø**
  ```javascript
  console.log(user[idSymbol]); // 12345
  ```
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ –æ–±—ä–µ–∫—Ç–∞**
  ```javascript
  console.log(Object.getOwnPropertySymbols(user)); // [Symbol(id), Symbol(email)]
  ```

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä —Å–∏–º–≤–æ–ª–æ–≤ (Symbol.for)
- **–°–æ–∑–¥–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤**
  ```javascript
  const globalId1 = Symbol.for('global.id');
  const globalId2 = Symbol.for('global.id'); // —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π —Å–∏–º–≤–æ–ª!
  console.log(globalId1 === globalId2); // true
  ```
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–∞ –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞**
  ```javascript
  console.log(Symbol.keyFor(globalId1)); // 'global.id'
  ```

### üõ°Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: —Å–∫—Ä—ã—Ç—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞

```javascript
const _password = Symbol('password');

const secureUser = {
  name: 'Vadim',
  login: 'vadim123',
  [_password]: 'qwerty' // –ø–∞—Ä–æ–ª—å –Ω–µ –≤–∏–¥–µ–Ω –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º –ø–µ—Ä–µ–±–æ—Ä–µ
};

console.log(secureUser.password); // undefined (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞)
console.log(secureUser[_password]); // 'qwerty' (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–∏–º–≤–æ–ª)
```

### ‚ö° –ò–∑–≤–µ—Å—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã (Well-known symbols)

#### Symbol.iterator ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
```javascript
const iterable = {
  data: [1, 2, 3],
  [Symbol.iterator]() {
    let i = 0;
    const data = this.data;
    return {
      next: () => ({
        value: data[i],
        done: i++ >= data.length
      })
    };
  }
};

for (const val of iterable) {
  console.log(val); // 1, 2, 3
}
```

### üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–∏–º–≤–æ–ª–∞–º–∏

```javascript
const source = {
  regular: '–æ–±—ã—á–Ω–æ–µ',
  [idSymbol]: '—Å–∏–º–≤–æ–ª—å–Ω–æ–µ'
};

// Spread (...) –Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç —Å–∏–º–≤–æ–ª—ã!
const copy = { ...source };
console.log(copy[idSymbol]); // undefined ‚ùå

// Object.assign() –∫–æ–ø–∏—Ä—É–µ—Ç —Å–∏–º–≤–æ–ª—ã!
const properCopy = Object.assign({}, source);
console.log(properCopy[idSymbol]); // '—Å–∏–º–≤–æ–ª—å–Ω–æ–µ' ‚úÖ
```

### üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [Symbol –≤ JavaScript](https://learn.javascript.ru/symbol)
- [Object.getOwnPropertySymbols](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols)
- [Symbol.for –∏ Symbol.keyFor](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Symbol/for)
- [–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ Symbol.iterator](https://learn.javascript.ru/iterable)

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
–û—Å–≤–æ–µ–Ω —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö Symbol ‚Äî –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π –æ–±—ä–µ–∫—Ç–∞, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è, —Ä–∞–±–æ—Ç–∞ —Å –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Ä–µ–µ—Å—Ç—Ä–æ–º –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä—ã—Ç—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

---

### üí° –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Symbol

| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-------------|----------|--------|
| **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å** | –í—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–µ (–∫—Ä–æ–º–µ Symbol.for) | `Symbol('id') !== Symbol('id')` |
| **–ù–µ–≤–∏–¥–∏–º–æ—Å—Ç—å** | –ù–µ –≤–∏–¥–Ω—ã –≤ `for...in` –∏ `Object.keys()` | `Object.keys(user)` –Ω–µ –ø–æ–∫–∞–∂–µ—Ç —Å–∏–º–≤–æ–ª—ã |
| **–î–æ—Å—Ç—É–ø** | –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–∞–º —Å–∏–º–≤–æ–ª –∏–ª–∏ `getOwnPropertySymbols` | `obj[sym]` –∏–ª–∏ `Object.getOwnPropertySymbols(obj)` |
| **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ** | –û–±—â–∏–µ —Å–∏–º–≤–æ–ª—ã —á–µ—Ä–µ–∑ `Symbol.for()` | `Symbol.for('key')` |
| **–°–∫—Ä—ã—Ç—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞** | –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö | `const _id = Symbol('id')` |
| **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ** | `Symbol.iterator`, `Symbol.toStringTag` –∏ –¥—Ä. | –ú–µ–Ω—è—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ |

### üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã

- ‚úÖ –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **—Å–∫—Ä—ã—Ç—ã—Ö/–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö** —Å–≤–æ–π—Å—Ç–≤
- ‚úÖ –î–ª—è **–∏–∑–±–µ–≥–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** –∏–º–µ–Ω —Å–≤–æ–π—Å—Ç–≤
- ‚úÖ –î–ª—è **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö**, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –º–µ—à–∞—Ç—å –æ–±—ã—á–Ω—ã–º –∫–ª—é—á–∞–º
- ‚úÖ –î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤** (–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã, —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
- ‚ùå –ù–µ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–∫–∏)